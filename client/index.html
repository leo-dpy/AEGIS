<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AEGIS | Toolkit de S√©curit√©</title>
    <link rel="stylesheet" href="style.css">
    <!-- Police Pro 'Inter' -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
    <!-- Libs -->
    <script src="https://cdn.jsdelivr.net/npm/exif-js"></script>
    <script
        src="https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <script src="https://unpkg.com/pdf-lib@1.17.1/dist/pdf-lib.min.js"></script>
</head>

<body>

    <header>
        <div class="logo">AEGIS<span style="font-weight:400; color:#666">.PRO</span></div>
        <div class="status-badge">v2.1 ‚Ä¢ S√âCURIS√â</div>
    </header>

    <div id="main-content">

        <!-- ACCUEIL (Dashboard) -->
        <section id="view-dashboard" class="view-section active" style="height:100%">
            <div class="hero-section">

                <div class="radar-container">
                    <div class="radar-sweep"></div>
                    <div class="radar-blip"></div>
                    <div style="z-index:2; font-weight:700; font-size:0.8rem; letter-spacing:2px; color:#00ff80;">
                        S√âCURIS√â</div>
                </div>

                <h1 style="font-size: 2.5rem; letter-spacing: -1px; margin-bottom:2rem;">AEGIS INTEGRITY SYSTEM</h1>

                <div class="dashboard-stats">
                    <div class="stat-card">
                        <div class="stat-label">Votre IP</div>
                        <div class="stat-value" id="dash-ip">Scan...</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Statut Syst√®me</div>
                        <div class="stat-value" style="color:#00ff80;">Op√©rationnel</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Modules Actifs</div>
                        <div class="stat-value">11 Outils</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- OUTIL QR CODE -->
        <section id="view-qrcode" class="view-section">
            <h2>G√©n√©rateur QR Code</h2>
            <div class="panel">
                <p style="margin-bottom: 1rem;">G√©n√©rez un QR Code localement (hors ligne) pour vos liens ou textes.</p>
                <input type="text" id="qr-input" placeholder="https://exemple.com ou Texte...">
                <button class="action-btn" onclick="tools.qrcode.run()">G√âN√âRER QR CODE</button>
                <div id="qr-result" class="result-box"
                    style="display:none; text-align:center; background:#fff; padding:20px; width:fit-content; margin: 20px auto;">
                </div>
            </div>
        </section>

        <!-- OUTIL 1: ANALYSE IP -->
        <section id="view-ip" class="view-section">
            <h2>Analyse d'Identit√© IP</h2>
            <div class="panel">
                <div id="ip-results"
                    style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1rem;">
                    Chargement des donn√©es...
                </div>
            </div>
        </section>



        <!-- OUTIL 3: EXIF -->
        <section id="view-exif" class="view-section">
            <h2>Nettoyeur de M√©tadonn√©es EXIF</h2>
            <div class="panel">
                <p style="margin-bottom: 1rem;">Supprimez les donn√©es GPS et infos sensibles de vos photos avant
                    partage.</p>
                <div
                    style="border: 2px dashed #333; padding: 2rem; text-align: center; border-radius: 8px; margin-bottom: 1rem;">
                    <input type="file" id="exif-file" accept="image/*" onchange="tools.exif.handleFile(this)"
                        style="display:none;">
                    <button class="action-btn" onclick="document.getElementById('exif-file').click()">S√âLECTIONNER UNE
                        IMAGE</button>
                    <div id="exif-filename" style="margin-top: 10px; color: #fff;"></div>
                </div>
                <div id="exif-data" class="result-box" style="display:none;"></div>
                <button id="exif-clean-btn" class="action-btn"
                    style="display:none; margin-top:1rem; background: #fff; color:#000;"
                    onclick="tools.exif.clean()">PURGER LES M√âTADONN√âES</button>
                <div id="exif-download" style="margin-top:1rem;"></div>
            </div>
        </section>

        <!-- OUTIL 4: SANITIZER -->
        <section id="view-sanitizer" class="view-section">
            <h2>Normalisation de Texte</h2>
            <div class="panel">
                <p style="margin-bottom: 1rem;">Nettoie les caract√®res invisibles (Zero-width spaces) et les artefacts
                    de formatage.</p>
                <div style="display: grid; gap: 1rem;">
                    <textarea id="san-input" rows="6" placeholder="Collez votre texte suspect ici..."></textarea>
                    <button class="action-btn" onclick="tools.sanitizer.run()">NETTOYER LE TEXTE</button>
                    <textarea id="san-output" rows="6" readonly
                        placeholder="Le r√©sultat propre appara√Ætra ici..."></textarea>
                </div>
            </div>
        </section>

        <!-- OUTIL 9: COMPRESSION FICHIER -->
        <section id="view-compress" class="view-section">
            <h2>Compression Fichier</h2>
            <div class="panel">
                <p>R√©duisez la taille de vos images et PDF (Traitement local).</p>

                <!-- Compression Options -->
                <div style="margin-bottom:1.5rem;">
                    <div
                        style="color:#888; font-size:0.75rem; text-transform:uppercase; letter-spacing:1px; margin-bottom:10px;">
                        MODE DE COMPRESSION
                    </div>
                    <div class="cyber-options" style="display:grid; grid-template-columns: repeat(3, 1fr); gap:10px;">
                        <label class="check-label" id="compress-mode-quality">
                            <div class="check-indicator"></div>
                            <input type="radio" name="compress-mode" value="quality">
                            <div style="text-align:center;">
                                <div style="font-size:1.2rem;">üé®</div>
                                <div>QUALIT√â</div>
                                <div style="font-size:0.6rem; color:#666; margin-top:2px;">L√©g√®re r√©duction</div>
                            </div>
                        </label>
                        <label class="check-label checked" id="compress-mode-balanced">
                            <div class="check-indicator"></div>
                            <input type="radio" name="compress-mode" value="balanced" checked>
                            <div style="text-align:center;">
                                <div style="font-size:1.2rem;">‚öñÔ∏è</div>
                                <div>√âQUILIBR√â</div>
                                <div style="font-size:0.6rem; color:#666; margin-top:2px;">Recommand√©</div>
                            </div>
                        </label>
                        <label class="check-label" id="compress-mode-max">
                            <div class="check-indicator"></div>
                            <input type="radio" name="compress-mode" value="max">
                            <div style="text-align:center;">
                                <div style="font-size:1.2rem;">üì¶</div>
                                <div>MAXIMUM</div>
                                <div style="font-size:0.6rem; color:#666; margin-top:2px;">Taille minimale</div>
                            </div>
                        </label>
                    </div>
                </div>

                <label class="file-drop-zone" id="compress-drop">
                    <div style="font-weight:700; color:#ddd;">üìÅ S√âLECTIONNER UN FICHIER</div>
                    <div style="font-size:0.8rem; margin-top:0.5rem; color:#555;">Images (JPG, PNG, WEBP) ‚Ä¢ PDF</div>
                    <input type="file" id="compress-file" accept="image/*,.pdf" onchange="tools.compress.run()">
                </label>

                <div id="compress-result" class="result-box" style="display:none;"></div>
            </div>
        </section>

        <!-- OUTIL: CONVERTISSEUR D'IMAGES -->
        <section id="view-converter" class="view-section">
            <h2>Convertisseur d'Images</h2>
            <div class="panel">
                <p>Convertissez vos images dans diff√©rents formats (Traitement local).</p>

                <!-- Format de sortie -->
                <div style="margin-bottom:1.5rem;">
                    <div
                        style="color:#888; font-size:0.75rem; text-transform:uppercase; letter-spacing:1px; margin-bottom:10px;">
                        FORMAT DE SORTIE
                    </div>
                    <div class="cyber-options" style="display:grid; grid-template-columns: repeat(4, 1fr); gap:8px;">
                        <label class="check-label" id="convert-format-png">
                            <div class="check-indicator"></div>
                            <input type="radio" name="convert-format" value="png">
                            PNG
                        </label>
                        <label class="check-label checked" id="convert-format-jpg">
                            <div class="check-indicator"></div>
                            <input type="radio" name="convert-format" value="jpeg" checked>
                            JPG
                        </label>
                        <label class="check-label" id="convert-format-jpeg">
                            <div class="check-indicator"></div>
                            <input type="radio" name="convert-format" value="jpeg">
                            JPEG
                        </label>
                        <label class="check-label" id="convert-format-webp">
                            <div class="check-indicator"></div>
                            <input type="radio" name="convert-format" value="webp">
                            WEBP
                        </label>
                        <label class="check-label" id="convert-format-gif">
                            <div class="check-indicator"></div>
                            <input type="radio" name="convert-format" value="gif">
                            GIF
                        </label>
                        <label class="check-label" id="convert-format-bmp">
                            <div class="check-indicator"></div>
                            <input type="radio" name="convert-format" value="bmp">
                            BMP
                        </label>
                        <label class="check-label" id="convert-format-svg">
                            <div class="check-indicator"></div>
                            <input type="radio" name="convert-format" value="svg">
                            SVG
                        </label>
                        <label class="check-label" id="convert-format-ico">
                            <div class="check-indicator"></div>
                            <input type="radio" name="convert-format" value="ico">
                            ICO
                        </label>
                    </div>
                </div>


                <label class="file-drop-zone" id="convert-drop">
                    <div style="font-weight:700; color:#ddd;">üñºÔ∏è S√âLECTIONNER UNE IMAGE</div>
                    <div style="font-size:0.8rem; margin-top:0.5rem; color:#555;">JPG, PNG, WEBP, GIF, BMP, SVG, TIFF,
                        HEIC...</div>
                    <input type="file" id="convert-file" accept="image/*" onchange="tools.converter.run()">
                </label>

                <div id="convert-result" class="result-box" style="display:none;"></div>
            </div>
        </section>

        <!-- OUTIL 10: SCAN FICHIER -->
        <section id="view-scanner" class="view-section">
            <h2>Contr√¥le d'Int√©grit√©</h2>
            <div class="panel">
                <p>Calcul d'empreinte SHA-256 et v√©rification VirusTotal.</p>

                <label class="file-drop-zone">
                    <div style="font-weight:700; color:#ddd;">ANALYSER UN FICHIER SUSPECT</div>
                    <div style="font-size:0.8rem; margin-top:0.5rem; color:#555;">TOUT TYPE ACCEPT√â</div>
                    <input type="file" id="scan-file" onchange="tools.scanner.run(this)">
                </label>

                <div id="scan-result" class="result-box" style="display:none;"></div>
            </div>
        </section>



        <!-- OUTIL 8: PASS -->
        <!-- OUTIL 8: PASS -->
        <section id="view-pass" class="view-section">
            <h2>Gestion Mots de Passe</h2>

            <!-- G√©n√©rateur -->
            <div class="panel" style="margin-bottom: 2rem;">
                <h3>G√©n√©rateur de Cl√©s</h3>

                <!-- 1. Length Row -->
                <!-- 1. Length Row (Compact Single Line) -->
                <div style="display:flex; align-items:center; gap:15px; margin-bottom:1rem; margin-top:1.5rem;">
                    <div style="font-weight:700; color:#ccc; font-size:0.85rem; white-space:nowrap; min-width:120px;">
                        LONGUEUR : <span id="len-disp" style="color:#00ff80; font-size:1rem;">24</span>
                    </div>
                    <input type="range" id="pass-len-range" value="24" min="8" max="64"
                        style="flex:1; width:auto; margin:0; cursor:pointer;"
                        oninput="document.getElementById('pass-len').value = this.value; document.getElementById('len-disp').textContent = this.value">
                    <input type="hidden" id="pass-len" value="24">
                </div>

                <!-- 2. Options Grid -->
                <div class="cyber-options"
                    style="display:grid; grid-template-columns: repeat(4, 1fr); gap:10px; margin-bottom:1.5rem;">
                    <label class="check-label checked">
                        <div class="check-indicator"></div>
                        <input type="checkbox" id="pass-upper" checked> MAJUSCULES
                    </label>
                    <label class="check-label checked">
                        <div class="check-indicator"></div>
                        <input type="checkbox" id="pass-lower" checked> MINUSCULES
                    </label>
                    <label class="check-label checked">
                        <div class="check-indicator"></div>
                        <input type="checkbox" id="pass-nums" checked> CHIFFRES
                    </label>
                    <label class="check-label checked">
                        <div class="check-indicator"></div>
                        <input type="checkbox" id="pass-syms" checked> SYMBOLES
                    </label>
                </div>

                <button class="action-btn" style="width:100%" onclick="tools.pass.run()">G√âN√âRER LA CL√â</button>

                <!-- Integrated Result Box -->
                <!-- Integrated Result Box (Redesigned) -->
                <!-- Integrated Result Box (Ultimate) -->
                <div id="pass-result-box" style="display:none; margin-top:1.5rem; flex-direction:column; gap:5px;">
                    <!-- Strength Badge -->
                    <div style="text-align:right; margin-bottom:5px;">
                        <span id="pass-gen-strength-label"
                            style="font-size:0.75rem; font-weight:bold; letter-spacing:1px; background:#111; padding:3px 8px; border-radius:4px; border:1px solid #333;"></span>
                    </div>

                    <!-- Password Input-like Group -->
                    <div style="position:relative;">
                        <div id="pass-result-text"
                            style="background:#050505; border:1px solid #333; color:#fff; font-family:'Courier New', monospace; font-size:1.1rem; padding:15px; padding-right:50px; border-radius:4px; overflow:hidden; white-space:nowrap; text-overflow:ellipsis;">
                        </div>
                        <button onclick="tools.pass.copy()"
                            style="position:absolute; right:5px; top:50%; transform:translateY(-50%); background:transparent; border:none; color:#00ff80; font-size:1.4rem; cursor:pointer; padding:5px; transition:all 0.2s; opacity:0.9;">
                            ‚éò
                        </button>
                    </div>
                </div>
            </div>

            <!-- Testeur -->
            <div class="panel">
                <h3>Testeur de Force</h3>
                <p style="margin-bottom: 1rem;">V√©rifiez la robustesse de vos mots de passe (Test local).</p>
                <input type="text" id="pass-test-input" placeholder="Tapez un mot de passe √† tester..."
                    oninput="tools.pass.check()">
                <div id="pass-test-result" class="result-box"
                    style="display:none; text-align:center; font-weight:bold; font-size:1.2rem;"></div>
            </div>
        </section>

        <!-- OUTIL 9: BREACH -->
        <section id="view-breach" class="view-section">
            <h2>Radar de Fuites (HIBP)</h2>
            <div class="panel">
                <p style="margin-bottom: 1rem;">V√©rifie si une adresse email a √©t√© compromise dans une base de donn√©es
                    publique.</p>
                <div style="display: flex; gap: 10px;">
                    <input type="email" id="breach-input" placeholder="email@exemple.com">
                    <button class="action-btn" onclick="tools.breach.run()">V√âRIFIER</button>
                </div>
                <div id="breach-result" class="result-box" style="display:none;"></div>
            </div>
        </section>

    </div>

    <!-- NAVIGATION DOCK FLOTTANT -->
    <nav class="dock-container">
        <div class="dock-item active" onclick="app.navigate('dashboard')">ACCUEIL</div>
        <div class="dock-item" onclick="app.navigate('ip')">MON IP</div>
        <div class="dock-item" onclick="app.navigate('pass')">MOTS DE PASSE</div>
        <div class="dock-item" onclick="app.navigate('qrcode')">QR CODE</div>
        <div class="dock-item" onclick="app.navigate('breach')">FUITE EMAIL</div>
        <div class="dock-item" onclick="app.navigate('exif')">PHOTO CLEAN</div>
        <div class="dock-item" onclick="app.navigate('sanitizer')">TEXTE CLEAN</div>
        <div class="dock-item" onclick="app.navigate('scanner')">SCAN FICHIER</div>
        <div class="dock-item" onclick="app.navigate('compress')">COMPRESSION</div>
        <div class="dock-item" onclick="app.navigate('converter')">CONVERTIR</div>
    </nav>

    <!-- Custom Popup -->
    <div id="cyber-popup"
        style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.85); z-index:9999; justify-content:center; align-items:center;">
        <div
            style="background:#000; border:1px solid #00ff80; padding:2rem; width:350px; text-align:center; box-shadow:0 0 30px rgba(0,255,128,0.2); border-radius:8px;">
            <h3 style="color:#00ff80; margin-top:0; text-transform:uppercase;">Attention</h3>
            <p id="cyber-popup-msg" style="color:#fff; margin:1.5rem 0; font-size:1rem;">Message</p>
            <button onclick="document.getElementById('cyber-popup').style.display='none'" class="action-btn"
                style="width:100%;">COMPRIS</button>
        </div>
    </div>

    <script type="module" src="main.js"></script>
</body>

</html>